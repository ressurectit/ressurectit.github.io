(self.webpackChunkressurectit_github_io=self.webpackChunkressurectit_github_io||[]).push([[7618],{97618:(t,e,i)=>{"use strict";i.d(e,{g:()=>v});var a=i(12007),s=i(89408),l=i(64812),n=i(54236),u=i(52593),r=i(48514),h=i(84184),d=i(60205),o=i(69016),_=i(54241),c=i(59478),p=i(57076);const V=["input"];class v{constructor(t,e,i){this._dateApi=t,this._valueProvider=e,this._changeDetector=i,this._valueChange=new n.xQ,this._touched=new n.xQ,this._pickerRequest=new n.xQ,this._format="",this._dateApiValue=null,this._isValid=!0,this._minValue=null,this._maxValue=null,this.disabled=!1}get format(){return this._format}set format(t){this._format=t}get value(){return this._dateApiValue&&this._isValid?this._valueProvider.getValue(this._dateApiValue.value,this._format):null}get formattedValue(){return this._isValid?this.currentValue:null}get valid(){return this._isValid}get valueChange(){return this._valueChange.asObservable()}get touched(){return this._touched.asObservable()}get pickerRequest(){return this._pickerRequest.asObservable()}get currentValue(){return this.input.value||null}set currentValue(t){this.input&&(this.input.value=null!=t?t:"")}get input(){return this.inputElement.nativeElement}setMinValue(t){this._minValue=t}setMaxValue(t){this._maxValue=t}setValue(t){(null==t?void 0:t.from)?(this._dateApiValue=this._dateApi.getValue(null==t?void 0:t.from,this._format),this._isValid=this._dateApiValue.isValid(),this._show()):this._clearValue()}setDisabled(t=!0){this.disabled=t}invalidateVisuals(){this._changeDetector.detectChanges()}handleFocus(){this._pickerRequest.next(!0),this._dateApiValue||(this._dateApiValue=this._dateApi.now(),this._isValid=this._dateApiValue.isValid(),this._minMaxConstraintTest()?this._clearValue():this._valueChange.next()),this._isValid&&this._show()}handleBlur(){this._pickerRequest.next(!1)}handleInput(){if(!this.currentValue)return this._clearValue(),void this._valueChange.next();this._dateApiValue=this._dateApi.getValue(this.currentValue,this._format),this._isValid=this._dateApiValue.isValid(),this._valueChange.next()}handleClick(){this._pickerRequest.next(!0)}handleKeyboard(t){var e;if(null===(e=this._dateApiValue)||void 0===e?void 0:e.isValid())switch(t.key){case"ArrowRight":case"ArrowLeft":t.preventDefault(),t.stopPropagation(),this._withMinMaxConstraint((()=>"ArrowLeft"==t.key?this._dateApiValue.subtractDays(1):this._dateApiValue.addDays(1))),this._show();break;case"ArrowUp":case"ArrowDown":t.preventDefault(),t.stopPropagation(),this._withMinMaxConstraint((()=>"ArrowUp"==t.key?this._dateApiValue.subtractWeeks(1):this._dateApiValue.addWeeks(1))),this._show();break;case"Escape":this._pickerRequest.next(!1);break;case" ":t.ctrlKey&&this._pickerRequest.next(!0)}}_clearValue(){this._dateApiValue=null,this._isValid=!0,this.currentValue=null}_minMaxConstraintTest(){return!!this._minValue&&this._dateApiValue.isBefore(this._minValue)||!!this._maxValue&&this._dateApiValue.isAfter(this._maxValue)}_withMinMaxConstraint(t){var e;this._dateApiValue.updateOriginal(),t(),this._minMaxConstraintTest()?null===(e=this._dateApiValue)||void 0===e||e.resetOriginal():this._valueChange.next()}_show(){var t,e;this._isValid&&(this.currentValue=null!==(e=null===(t=this._dateApiValue)||void 0===t?void 0:t.format(this._format))&&void 0!==e?e:null)}}v.ɵfac=function(t){return new(t||v)(h.Y(u.R),h.Y(r.D),h.Y(s.sB))},v.ɵcmp=d.Xp({type:v,selectors:[["simple-input-date-time-selector"]],viewQuery:function(t,e){if(1&t&&o.Gf(V,7),2&t){let t;o.iG(t=o.CR())&&(e.inputElement=t.first)}},decls:2,vars:2,consts:[["type","text",3,"disabled","placeholder","focus","blur","input","click","keydown"],["input",""]],template:function(t,e){1&t&&(_.Tg(0,"input",0,1),c.N("focus",(function(){return e.handleFocus()}))("blur",(function(){return e.handleBlur()}))("input",(function(){return e.handleInput()}))("click",(function(){return e.handleClick()}))("keydown",(function(t){return e.handleKeyboard(t)})),_.qZ()),2&t&&p.Q("disabled",e.disabled)("placeholder",e.placeholder)},styles:["[_nghost-%COMP%]\r\n{\r\n    display: block;\r\n}\r\n\r\ninput[_ngcontent-%COMP%]\r\n{\r\n    width: 100%;\r\n}"],changeDetection:0}),v.ctorParameters=()=>[{type:void 0,decorators:[{type:a.tB,args:[u.R]}]},{type:r.D},{type:s.sB}],v.propDecorators={inputElement:[{type:l.i9,args:["input",{static:!0}]}]}}}]);
//# sourceMappingURL=7618.client.es2015.chunk.5bb668cab4b80ed92f8e.js.map