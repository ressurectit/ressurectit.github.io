{"version":3,"sources":["webpack://ressurectit.github.io/./app/samples/select/dynamic/dynamicSample.component.ts","webpack://ressurectit.github.io/./app/samples/select/dynamic/dynamicSample.component.html"],"names":["DynamicSampleComponent","constructor","_dataSvc","selectControl","_getData","value","isString","kod","result","this","getCis","toPromise","content","length","map","itm","text","popis","selectOptions","plugins","liveSearch","type","valueHandler","options","dynamicOptionsCallback","optionsGatherer","D"],"mappings":"2YAkBO,MAAMA,EAeTC,YAAoBC,GAAA,KAAAA,WAHb,KAAAC,cAA6B,IAAI,KAAY,MA+B5C,KAAAC,SAAqDC,IAAQ,O,EAAA,K,OAAA,E,EAAA,aAE7D,IAAAC,UAASD,KAETA,EAAQA,EAAME,KAGlB,IAAIC,QAAeC,KAAKP,SACnBQ,OAAOL,GACPM,YAEL,OAAIH,GAAWA,EAAOI,SAAYJ,EAAOI,QAAQC,OAK1CL,EAAOI,QAAQE,KAAIC,IAGtB,CACIV,MAAOU,EAAIR,IACXS,KAAMD,EAAIE,UARP,I,YAbsD,K,+QA1BjER,KAAKS,cACL,CACIC,QACA,CACIC,WACA,CACIC,KAAM,KAEVC,aACA,CACID,KAAM,IACNE,QACA,CACIC,uBAAwBf,KAAKL,YAIzCqB,gBAAiB,IAAI,IAAuB,CAACD,uBAAwBf,KAAKL,a,iCAlCzEJ,GAAsB,W,kBAAtBA,EAAsB,6CAHpB,CAAC,EAAA0B,KAAY,uFCf5B,cAAK,O,eAAsC,OAE3C,uB,MAFK,qFAEM,4CAA+B,iC","file":"9490.client.es2015.chunk.68d3cbc069ce1653c049.js","sourcesContent":["import {Component, ChangeDetectionStrategy} from \"@angular/core\";\r\nimport {FormControl} from \"@angular/forms\";\r\nimport {NgSelectOptions, GetOptionsCallback, NgSelectOption, BasicLiveSearchComponent, DynamicValueHandlerComponent, DynamicValueHandlerOptions, DynamicOptionsGatherer} from \"@anglr/select\";\r\nimport {isString} from \"@jscrpt/common\";\r\n\r\nimport {KodPopisValue} from \"../../../misc/types\";\r\nimport {DataService} from \"../../../services/api/data\";\r\n\r\n/**\r\n * Dynamic sample for select component\r\n */\r\n@Component(\r\n{\r\n    selector: 'dynamic-sample',\r\n    templateUrl: 'dynamicSample.component.html',\r\n    providers: [DataService],\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class DynamicSampleComponent\r\n{\r\n    //######################### public properties - template bindings #########################\r\n\r\n    /**\r\n     * Select options that are used for select initialization, custom readonly\r\n     */\r\n    public selectOptions: NgSelectOptions<KodPopisValue>;\r\n    \r\n    /**\r\n     * Control bound to select\r\n     */\r\n    public selectControl: FormControl = new FormControl(null);\r\n\r\n    //######################### constructor #########################\r\n    constructor(private _dataSvc: DataService)\r\n    {\r\n        this.selectOptions =\r\n        {\r\n            plugins:\r\n            {\r\n                liveSearch:\r\n                {\r\n                    type: BasicLiveSearchComponent\r\n                },\r\n                valueHandler:\r\n                {\r\n                    type: DynamicValueHandlerComponent,\r\n                    options: <DynamicValueHandlerOptions<KodPopisValue>>\r\n                    {\r\n                        dynamicOptionsCallback: this._getData\r\n                    }\r\n                }\r\n            },\r\n            optionsGatherer: new DynamicOptionsGatherer({dynamicOptionsCallback: this._getData})\r\n        };\r\n    }\r\n\r\n    //######################### private methods #########################\r\n    \r\n    /**\r\n     * Used for obtaining dynamic options\r\n     */\r\n    private _getData: GetOptionsCallback<KodPopisValue> = (async value =>\r\n    {\r\n        if(!isString(value))\r\n        {\r\n            value = value.kod;\r\n        }\r\n\r\n        let result = await this._dataSvc\r\n            .getCis(value)\r\n            .toPromise();\r\n\r\n        if(!result || !result.content || !result.content.length)\r\n        {\r\n            return [];\r\n        }\r\n\r\n        return result.content.map(itm =>\r\n        {\r\n            return <NgSelectOption<KodPopisValue>>\r\n            {\r\n                value: itm.kod,\r\n                text: itm.popis\r\n            };\r\n        });\r\n    });\r\n}","<div>Value: {{selectControl?.value | json}}</div>\r\n\r\n<ng-select [selectOptions]=\"selectOptions\" [formControl]=\"selectControl\">\r\n</ng-select>"],"sourceRoot":""}