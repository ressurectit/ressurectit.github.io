{"version":3,"sources":["webpack://ressurectit.github.io/./app/samples/grid/groupedMetadata/groupedMetadataSample.component.html","webpack://ressurectit.github.io/./app/samples/grid/groupedMetadata/groupedMetadataSample.component.ts"],"names":["GroupedMetadataSampleComponent","constructor","_dataSvc","this","gridOptions","plugins","contentRenderer","options","headerRenderer","type","dataLoader","dataCallback","_getData","bind","paging","itemsPerPageValues","initialItemsPerPage","page","itemsPerPage","ordering","reqOrdering","direction","orderByDirection","sort","orderBy","result","getData","size","toPromise","data","content","totalCount","totalElements","D"],"mappings":"+XAKgB,iBAAuB,OAAgB,Q,yBAAhB,mCCWhC,MAAMA,EAUTC,YAAoBC,GAAA,KAAAA,WAEhBC,KAAKC,YACL,CACIC,QACA,CACIC,gBACA,CACIC,QACA,CACIF,QACA,CACIG,eACA,CACIC,KAAM,QAKtBC,WACA,CACIH,QACA,CAEII,aAAcR,KAAKS,SAASC,KAAKV,QAGzCW,OACA,CACIP,QACA,CAEIQ,mBAAoB,CAAC,EAAG,GAAI,IAE5BC,oBAAqB,MAe3BJ,SAASK,EAAcC,EAAsBC,G,qCAEvD,IAAIC,EAAyB,KAE1BD,IAECC,EACA,CACIC,UAAWF,EAASG,iBACpBC,KAAMJ,EAASK,UAIvB,IAAIC,QAAetB,KAAKD,SACnBwB,QAAQ,CACGT,KAAMA,EACNU,KAAMT,GAEVE,GACPQ,YAEL,MAAO,CACHC,KAAMJ,EAAOK,QACbC,WAAYN,EAAOO,gB,iUAlFlBhC,GAA8B,W,kBAA9BA,EAA8B,sDAH5B,CAAC,EAAAiC,KAAY,yhBDb5B,oBACI,iCAEI,wBACI,2BAIA,+BACA,+BACJ,OAGA,wBACI,+BACJ,OAGA,wBACI,+BACA,gCACJ,OAGA,gCACA,iCACA,iCACA,iCACA,iCACJ,OACJ,Q,MA9BS,iCAa6B,gC","file":"3573.client.es2015.chunk.337c6e816349f5e316dc.js","sourcesContent":["<ng-grid [gridOptions]=\"gridOptions\">\r\n    <grouped-table-metadata>\r\n        <!-- group with custom template and 2 columns in it-->\r\n        <table-group title=\"Country and city\">\r\n            <ng-template let-group>\r\n                <div class=\"text-left\">{{group?.title}}</div>\r\n            </ng-template>\r\n\r\n            <table-group-column id=\"country\"></table-group-column>\r\n            <table-group-column id=\"city\"></table-group-column>\r\n        </table-group>\r\n\r\n        <!-- group with only one column and with title that is not visible -->\r\n        <table-group title=\"Zip code\" [titleVisible]=\"false\">\r\n            <table-group-column id=\"zip\"></table-group-column>\r\n        </table-group>\r\n\r\n        <!-- group with custom css class applied to group and 2 columns in it -->\r\n        <table-group title=\"Address street:\" cssClass=\"text-right\">\r\n            <table-group-column id=\"street\"></table-group-column>\r\n            <table-group-column id=\"houseNumber\"></table-group-column>\r\n        </table-group>\r\n\r\n        <!-- columns metadata definition as standard -->\r\n        <basic-table-column id=\"country\" name=\"country\" title=\"Country\"></basic-table-column>\r\n        <basic-table-column id=\"city\" name=\"city\" title=\"City\"></basic-table-column>\r\n        <basic-table-column id=\"zip\" name=\"zip\" title=\"ZIP\"></basic-table-column>\r\n        <basic-table-column id=\"street\" name=\"street\" title=\"Street\"></basic-table-column>\r\n        <basic-table-column id=\"houseNumber\" name=\"houseNumber\" title=\"House number\"></basic-table-column>\r\n    </grouped-table-metadata>\r\n</ng-grid>","import {Component, ChangeDetectionStrategy} from \"@angular/core\";\r\nimport {GridOptions, SimpleOrdering, BasicPagingOptions, AsyncDataLoaderOptions, DataResponse, TableContentRendererOptions, GroupedTableHeaderContentRendererComponent} from \"@anglr/grid\";\r\n\r\nimport {Address, DataService} from \"../../../services/api/data\";\r\nimport {Orderable} from \"../../../misc/types\";\r\n\r\n/**\r\n * Grouped metadata sample for grid component\r\n */\r\n@Component(\r\n{\r\n    selector: 'grouped-metadata-sample',\r\n    templateUrl: 'groupedMetadataSample.component.html',\r\n    providers: [DataService],\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class GroupedMetadataSampleComponent\r\n{\r\n    //######################### public properties - template bindings #########################\r\n\r\n    /**\r\n     * Grid options that are used for grid initialization\r\n     */\r\n    public gridOptions: GridOptions;\r\n\r\n    //######################### constructor #########################\r\n    constructor(private _dataSvc: DataService)\r\n    {\r\n        this.gridOptions =\r\n        {\r\n            plugins:\r\n            {\r\n                contentRenderer:\r\n                {\r\n                    options: <TableContentRendererOptions>\r\n                    {\r\n                        plugins:\r\n                        {\r\n                            headerRenderer:\r\n                            {\r\n                                type: GroupedTableHeaderContentRendererComponent\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                dataLoader:\r\n                {\r\n                    options: <AsyncDataLoaderOptions<Address, SimpleOrdering>>\r\n                    {\r\n                        //data callback used for getting data asynchronously\r\n                        dataCallback: this._getData.bind(this)\r\n                    }\r\n                },\r\n                paging:\r\n                {\r\n                    options: <BasicPagingOptions>\r\n                    {\r\n                        //available values for items per page buttons\r\n                        itemsPerPageValues: [5, 10, 20],\r\n                        //initial value of items per page, should be one of above\r\n                        initialItemsPerPage: 5\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    //######################### private methods #########################\r\n\r\n    /**\r\n     * Callback used for obtaining data\r\n     * @param page Index of requested page\r\n     * @param itemsPerPage Number of items per page\r\n     * @param ordering Order by column name\r\n     */\r\n    private async _getData(page: number, itemsPerPage: number, ordering: SimpleOrdering): Promise<DataResponse<Address>>\r\n    {\r\n        let reqOrdering: Orderable = null;\r\n\r\n        if(ordering)\r\n        {\r\n            reqOrdering = \r\n            {\r\n                direction: ordering.orderByDirection,\r\n                sort: ordering.orderBy\r\n            };\r\n        }\r\n\r\n        let result = await this._dataSvc\r\n            .getData({\r\n                        page: page,\r\n                        size: itemsPerPage\r\n                    },\r\n                    reqOrdering)\r\n            .toPromise();\r\n\r\n        return {\r\n            data: result.content,\r\n            totalCount: result.totalElements\r\n        };\r\n    }\r\n}"],"sourceRoot":""}